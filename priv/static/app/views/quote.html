<section>
    <div class="row">
      <h2 data-bind='text: displayName'></h2>
    </div>   
    <div class="row" data-bind="visible: editing">
      <form class="col s12">
        <div class="row">
          <div class="col l4 m12">
            <div class="row compact">
              <div class="col s6">
                <blockquote>
                  <h4>From</h4>
                </blockquote>
              </div>
              <div class="col s6">
                <div class="switch" data-bind="click: From.clear">
                  <label>
                    Existing
                    <input type="checkbox" data-bind="checked: From.isnew">
                    <span class="lever"></span>
                    New
                  </label>
                </div>
              </div>
            </div>

            <div class="row" data-bind="visible: From.isnew() === false">          
              <div class="input-field col s12">                
                <input id="to-namesearch" type="text" class="validate" data-bind="value: From.searchterm, valueUpdate: 'afterkeydown'"></input>
                <label for="to-namesearch">Find by name</label>    
                <div class="select-dropdown" data-bind="visible: From.suggestions().length">
                  <ul class="dropdown-content select-dropdown active suggestions" data-bind="foreach: From.suggestions">
                    <li data-bind="click: $parent.From.select"><span data-bind="text: reference"></span></li>                 
                  </ul>
                </div>
              </div>
              <div class="col s12" data-bind="visible: From.easypost_id()">
                <blockquote>
                  <p data-bind="html: From.asText"></p>
                </blockquote>
              </div>
            </div>

            <div data-bind="visible: From.isnew">
              <div class="row compact">          
                <div class="input-field col s12">                
                  <input id="from-reference" type="text" class="active" data-bind="value: From.reference"></input>
                  <label for="from-reference">Enter a reference to save this address</label>
                </div>
              </div>
              <div class="row compact" >          
                <div class="input-field col s6">                
                  <input id="from-name" type="text" class="active"  data-error="Must include name or company" data-bind="value: From.name"></input>
                  <label for="name">Name</label>
                </div>
                <div class="input-field col s6">
                  <input id="from-company" type="text" class="active" data-error="Must include name or company" data-bind="value: From.company"></input>
                  <label for="company">Company</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="from-street1" type="text" class="active" data-error="Required" data-bind="value: From.street1"></input>
                  <label for="street">Street Address 1</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="from-street2" type="text" class="active" data-bind="value: From.street2"></input>
                  <label for="street2">Street Address 2</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s6">
                  <input id="from-city" type="text" class="active" data-bind="value: From.city"></input>
                  <label for="city">City</label>
                </div>
                <div class="input-field col s6">
                  <input id="from-state" type="text" class="active" data-bind="value: From.state"></input>
                  <label for="state">State/Province</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s6">
                  <input id="from-zip" type="text" class="active" data-bind="value: From.zip"></input>
                  <label for="zip">Zip/Postal Code</label>
                </div>
                <div class="input-field col s6">
                  <select class="browser-default" data-bind="options: From.countries, optionsText: 'name', optionsValue: 'alpha-2', value: From.country, optionsCaption: 'Select country...'"></select>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s6">
                  <input id="from-phone" type="text" class="active" data-bind="value: From.phone"></input>
                  <label for="phone">Phone Number</label>
                </div>
                <div class="input-field col s6">
                  <input id="from-email" type="text" class="active" data-bind="value: From.email"></input>
                  <label for="email">Email</label>
                </div>
              </div>
            </div>
          </div>

          <div class="col l4 m12">
            <div class="row compact">
              <div class="col s6">
                <blockquote>
                  <h4>To</h4>
                </blockquote>
              </div>
              <div class="col s6">
                <div class="switch" data-bind="click: To.clear">
                  <label>
                    Existing
                    <input type="checkbox" data-bind="checked: To.isnew">
                    <span class="lever"></span>
                    New
                  </label>
                </div>
              </div>
            </div>

            <div class="row" data-bind="visible: To.isnew() === false">          
              <div class="input-field col s12">                
                <input id="to-namesearch" type="text" data-bind="value: To.searchterm, valueUpdate: 'afterkeydown'" ></input>
                <label for="to-namesearch">Find by reference</label>  
                <div class="select-dropdown" data-bind="visible: To.suggestions().length">
                  <ul class="dropdown-content select-dropdown active suggestions" data-bind="foreach: To.suggestions">
                    <li data-bind="click: $parent.To.select"><span data-bind="text: reference"></span></li>
                  </ul>
                </div>             
              </div>
              <div class="col s12" data-bind="visible: To.easypost_id()">
                <blockquote>
                  <p data-bind="html: To.asText"></p>
                </blockquote>
              </div>
            </div>

            <div data-bind="visible: To.isnew">
              <div class="row compact">          
                <div class="input-field col s12">                
                  <input id="to-reference" type="text" class="active" data-bind="value: To.reference"></input>
                  <label for="to-reference">Enter a reference to save this address</label>
                </div>
              </div>
              <div class="row compact" >          
                <div class="input-field col s6">                
                  <input id="to-name" type="text" class="active" data-bind="value: To.name"></input>
                  <label for="name">Name</label>
                </div>
                <div class="input-field col s6">
                  <input id="to-company" type="text" class="active" data-bind="value: To.company"></input>
                  <label for="company">Company</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="to-street1" type="text" class="active" data-bind="value: To.street1"></input>
                  <label for="street">Street Address 1</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="to-street2" type="text" class="active" data-bind="value: To.street2"></input>
                  <label for="street2">Street Address 2</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s6">
                  <input id="to-city" type="text" class="active" data-bind="value: To.city"></input>
                  <label for="city">City</label>
                </div>
                <div class="input-field col s6">
                  <input id="to-state" type="text" class="active" data-bind="value: To.state"></input>
                  <label for="state">State/Province</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s6">
                  <input id="to-zip" type="text" class="active" data-bind="value: To.zip"></input>
                  <label for="zip">Zip/Postal Code</label>
                </div>
                <div class="input-field col s6">
                  <select class="browser-default" data-bind="options: To.countries, optionsText: 'name', optionsValue: 'alpha-2', value: To.country, optionsCaption: 'Select country...'"></select>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s6">
                  <input id="to-phone" type="text" class="active" data-bind="value: To.phone"></input>
                  <label for="phone">Phone Number</label>
                </div>
                <div class="input-field col s6">
                  <input id="to-email" type="text" class="active" data-bind="value: To.email"></input>
                  <label for="email">Email</label>
                </div>
              </div>
            </div>
          </div>

          <div class="col l4 m12">
            <div class="row compact">
              <div class="col s6">
                <blockquote>
                  <h4>Parcel</h4>
                </blockquote>
              </div>
              <div class="col s6">
                <div class="switch" data-bind="click: Parcel.clear">
                  <label>
                    Existing
                    <input type="checkbox" data-bind="checked: Parcel.isnew">
                    <span class="lever"></span>
                    New
                  </label>
                </div>
              </div>
            </div>

            <div class="row" data-bind="visible: Parcel.isnew() === false">          
              <div class="input-field col s12">                
                <input id="package-namesearch" type="text" data-bind="value: Parcel.searchterm, valueUpdate: 'afterkeydown'"></input>
                <label for="package-namesearch">Find by reference</label>
                <div class="select-dropdown" data-bind="visible: Parcel.suggestions().length">
                  <ul class="dropdown-content select-dropdown active suggestions" data-bind="foreach: Parcel.suggestions">
                    <li data-bind="click: $parent.Parcel.select"><span data-bind="text: reference"></span></li>
                  </ul>
                </div>
              </div>
              <div class="col s12" data-bind="visible: Parcel.easypost_id()">
                <blockquote>
                  <p data-bind="html: Parcel.asText"></p>
                </blockquote>
              </div>
            </div>

            <div data-bind="visible: Parcel.isnew">
              <div class="row compact">          
                <div class="input-field col s12">                
                  <input id="parcel-name" type="text" class="active" data-bind="value: Parcel.reference"></input>
                  <label for="parcel-name">Enter a reference to save this parcel</label>
                </div>
              </div>
              <div class="row compact">          
                <div class="input-field col s12">                
                  <input id="parcel-length" type="text" class="active" data-bind="value: Parcel.length"></input>
                  <label for="parcel-length">Length (inches)</label>
                </div>
              </div> 
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="parcel-width" type="text" class="active" data-bind="value: Parcel.width"></input>
                  <label for="parcel-width">Width (inches)</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="parcel-height" type="text" class="active" data-bind="value: Parcel.height"></input>
                  <label for="parcel-height">Height (inches)</label>
                </div>
              </div>
              <div class="row compact">
                <div class="input-field col s12">
                  <input id="parcel-weight" type="text" class="active" data-bind="value: Parcel.weight"></input>
                  <label for="parcel-weight">Weight (ounces)</label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">       
          <a class="waves-effect waves-light btn-large right" data-bind="click: getQuotes"><i class="material-icons right">send</i>Go!</a>
        </div>
      </form>
    </div>

    <div class="row" data-bind="visible: loading">
      <h3 data-bind="text: loadingMessage"></h3>
      <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="row" data-bind="visible: quoted">
      <div class="row">
        <div class="col l4 m12">
          <div class="row compact">
            <blockquote>
              <h4>From</h4>
            </blockquote>
          </div>
          <div class="row compact">
            <p data-bind="html: From.asText()"></p>
            <a class="waves-effect waves-light btn" data-bind="click: editFields">Change</a>
          </div>
        </div>
        <div class="col l4 m12">
          <div class="row compact">
            <blockquote>
              <h4>To</h4>
            </blockquote>
          </div>
          <div class="row compact">
            <p data-bind="html: To.asText"></p>
            <a class="waves-effect waves-light btn" data-bind="click: editFields">Change</a>
          </div>
        </div>
        <div class="col l4 m12">
          <div class="row compact">
            <blockquote>
              <h4>Package</h4>
            </blockquote>
          </div>
          <div class="row compact">
            <p data-bind="html: Parcel.asText"></p>
            <a class="waves-effect waves-light btn" data-bind="click: editFields">Change</a>
          </div>
        </div>
      </div>
      <div class="row">
        <!-- ko foreach: { data: quotes, as: 'quote' } -->
          <div data-bind="compose: { view:'ratecard.html' }"></div>
        <!-- /ko -->
      </div>
    </div>


        
            
</section>