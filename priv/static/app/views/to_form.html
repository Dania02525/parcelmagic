<div class="row compact">
  <div class="col s6">
    <blockquote>
      <h4>To</h4>
    </blockquote>
  </div>
  <div class="col s6">
    <div class="switch" data-bind="click: To.clear">
      <label>
        Existing
        <input type="checkbox" data-bind="checked: To.isnew">
        <span class="lever"></span>
        New
      </label>
    </div>
  </div>
</div>

<div class="row" data-bind="visible: To.isnew() === false">          
  <div class="input-field col s12">                
    <input id="to-namesearch" type="text" data-bind="value: To.searchterm, valueUpdate: 'afterkeydown'" ></input>
    <label for="to-namesearch">Find by reference</label>  
    <div class="select-dropdown" data-bind="visible: To.suggestions().length">
      <ul class="dropdown-content select-dropdown active suggestions" data-bind="foreach: To.suggestions">
        <li data-bind="click: $parent.To.select"><span data-bind="text: reference"></span></li>
      </ul>
    </div>             
  </div>
  <div class="col s12" data-bind="visible: To.easypost_id()">
    <blockquote>
      <p data-bind="html: To.asText"></p>
    </blockquote>
  </div>
</div>

<div data-bind="visible: To.isnew">
  <div class="row compact">          
    <div class="input-field col s12">                
      <input id="to-reference" type="text" class="active" data-bind="value: To.reference"></input>
      <label for="to-reference">Enter a reference to save this address</label>
    </div>
  </div>
  <div class="row compact" >          
    <div class="input-field col s6">                
      <input id="to-name" type="text" class="active" data-bind="value: To.name"></input>
      <label for="name">Name</label>
    </div>
    <div class="input-field col s6">
      <input id="to-company" type="text" class="active" data-bind="value: To.company"></input>
      <label for="company">Company</label>
    </div>
  </div>
  <div class="row compact">
    <div class="input-field col s12">
      <input id="to-street1" type="text" class="active" data-bind="value: To.street1"></input>
      <label for="street">Street Address 1</label>
    </div>
  </div>
  <div class="row compact">
    <div class="input-field col s12">
      <input id="to-street2" type="text" class="active" data-bind="value: To.street2"></input>
      <label for="street2">Street Address 2</label>
    </div>
  </div>
  <div class="row compact">
    <div class="input-field col s6">
      <input id="to-city" type="text" class="active" data-bind="value: To.city"></input>
      <label for="city">City</label>
    </div>
    <div class="input-field col s6">
      <input id="to-state" type="text" class="active" data-bind="value: To.state"></input>
      <label for="state">State/Province</label>
    </div>
  </div>
  <div class="row compact">
    <div class="input-field col s6">
      <input id="to-zip" type="text" class="active" data-bind="value: To.zip"></input>
      <label for="zip">Zip/Postal Code</label>
    </div>
    <div class="input-field col s6">
      <select class="browser-default" data-bind="options: To.countries, optionsText: 'name', optionsValue: 'alpha-2', value: To.country, optionsCaption: 'Select country...'"></select>
    </div>
  </div>
  <div class="row compact">
    <div class="input-field col s6">
      <input id="to-phone" type="text" class="active" data-bind="value: To.phone"></input>
      <label for="phone">Phone Number</label>
    </div>
    <div class="input-field col s6">
      <input id="to-email" type="text" class="active" data-bind="value: To.email"></input>
      <label for="email">Email</label>
    </div>
  </div>
</div>